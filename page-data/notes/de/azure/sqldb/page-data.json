{"componentChunkName":"component---src-templates-entry-js","path":"/notes/de/azure/sqldb","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Azure SQL Data Warehouse"},"html":"<h3>Setting up a SQL Data Warehouse</h3>\n<ol>\n<li>Create a resource in the Azure portal</li>\n<li>Select SQL Data Warehouse in the Marketplace</li>\n<li>\n<p>Under the Basics tab, include the following information:</p>\n<ul>\n<li>Subscription</li>\n<li>Resource group</li>\n<li>Data warehouse name</li>\n<li>Server</li>\n</ul>\n</li>\n<li>Under the Select Performance Level field, select Gen2DW100c</li>\n<li>Review + Create</li>\n</ol>\n<h3>Adding a Client IP Address</h3>\n<ol>\n<li>After the SQL Data Warehouse instance is provisioned, open it by selecting Go To Resource</li>\n<li>At the top of the Overview pane, select the Server Name link to go to the associated SQL Server instance</li>\n<li>Select Firewalls and Virtual Networks</li>\n<li>Add Client IP</li>\n</ol>\n<h3>Initializing Connections in Azure Data Studio</h3>\n<ol>\n<li>Select your data warehouse from the resource group in the Azure portal</li>\n<li>Copy the server name for the data warehouse</li>\n<li>Add a new connection in Azure Data Studio</li>\n<li>\n<p>Enter the following information:</p>\n<ul>\n<li>Connection type</li>\n<li>Server (taken from the server name from step 2)</li>\n<li>Authentication type (e.g. SQL Login)</li>\n<li>User name</li>\n<li>Password</li>\n<li>Database</li>\n</ul>\n</li>\n<li>Connect</li>\n</ol>\n<h3>Installing Azure CLI for macOS</h3>\n<ol>\n<li>Install Azure CLI</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>brew update &amp;&amp; brew <span class=\"token function\">install</span> azure-cli</code></pre></div>\n<ol start=\"2\">\n<li>Log in to Azure CLI in Azure CLI</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>az login</code></pre></div>\n<ol start=\"3\">\n<li>Run an bash script in Azure CLI</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span><span class=\"token function\">bash</span> ./path_to_file/test.sh</code></pre></div>\n<h3>Adding a User to Azure SQL Data Warehouse</h3>\n<ol>\n<li>Create the following queries for the database within either Azure SQL Data Warehouse or Azure Data Studio</li>\n<li>Create a new server login (so the user can access the server)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> LOGIN example_user_login <span class=\"token keyword\">WITH</span> PASSWORD <span class=\"token operator\">=</span> <span class=\"token string\">'Str0ng_password'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"3\">\n<li>Create a new database login (so the user can access the database)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">USER</span> example_user_name <span class=\"token keyword\">FOR</span> LOGIN example_user_login<span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"4\">\n<li>Allow user to read data from Azure SQL Data Warehouse</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">EXEC</span> sp_addrolemember <span class=\"token string\">'db_datareader'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'example_user_name'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Creating a Hash Table in Azure Data Studio</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">(</span>\n\t<span class=\"token punctuation\">[</span>EmployeeID<span class=\"token punctuation\">]</span> <span class=\"token keyword\">int</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>EmployeeName<span class=\"token punctuation\">]</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>DOB<span class=\"token punctuation\">]</span> <span class=\"token keyword\">date</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>Address<span class=\"token punctuation\">]</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>BloodGroup<span class=\"token punctuation\">]</span> nvarchar<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">WITH</span>\n<span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">CLUSTERED</span> COLUMNSTORE <span class=\"token keyword\">INDEX</span><span class=\"token punctuation\">,</span>\n\tDISTRIBUTION <span class=\"token operator\">=</span> <span class=\"token keyword\">HASH</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>EmployeeID<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Creating a Round-Robin Distributed Table in Azure Data Studio</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">(</span>\n\t<span class=\"token punctuation\">[</span>EmployeeID<span class=\"token punctuation\">]</span> <span class=\"token keyword\">int</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>EmployeeName<span class=\"token punctuation\">]</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>DOB<span class=\"token punctuation\">]</span> <span class=\"token keyword\">date</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>Address<span class=\"token punctuation\">]</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>BloodGroup<span class=\"token punctuation\">]</span> nvarchar<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">WITH</span>\n<span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">CLUSTERED</span> COLUMNSTORE <span class=\"token keyword\">INDEX</span><span class=\"token punctuation\">,</span>\n\tDISTRIBUTION <span class=\"token operator\">=</span> ROUND_ROBIN\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Creating a Replicated Distributed Table in Azure Data Studio</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">(</span>\n\t<span class=\"token punctuation\">[</span>EmployeeID<span class=\"token punctuation\">]</span> <span class=\"token keyword\">int</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>EmployeeName<span class=\"token punctuation\">]</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>DOB<span class=\"token punctuation\">]</span> <span class=\"token keyword\">date</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>Address<span class=\"token punctuation\">]</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>BloodGroup<span class=\"token punctuation\">]</span> nvarchar<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">WITH</span>\n<span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">CLUSTERED</span> COLUMNSTORE <span class=\"token keyword\">INDEX</span><span class=\"token punctuation\">,</span>\n\tDISTRIBUTION <span class=\"token operator\">=</span> REPLICATE\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/azure/sql-data-warehouse/design-elt-data-loading\" target=\"_blank\" rel=\"nofollow\">Documentation for Azure SQL Data Warehouse</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/polybase/polybase-guide?view=sql-server-ver15\" target=\"_blank\" rel=\"nofollow\">Documentation for Polybase</a></li>\n<li><a href=\"https://cloudblogs.microsoft.com/sqlserver/2014/07/30/transitioning-from-smp-to-mpp-the-why-and-the-how/\" target=\"_blank\" rel=\"nofollow\">Article Describing SQL Server</a></li>\n<li><a href=\"https://www.flydata.com/blog/introduction-to-massively-parallel-processing/\" target=\"_blank\" rel=\"nofollow\">Describing Data Warhousing and Parallel Processing</a></li>\n<li><a href=\"https://hevodata.com/blog/redshift-architecture/\" target=\"_blank\" rel=\"nofollow\">Defining the Redshift Architecture</a></li>\n<li><a href=\"https://0x0fff.com/hadoop-vs-mpp/\" target=\"_blank\" rel=\"nofollow\">Article about Hadoop and Data Warehousing</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21900185/what-are-oltp-and-olap-what-is-the-difference-between-them\" target=\"_blank\" rel=\"nofollow\">Comparing OLTP and OLAP</a></li>\n</ul>"}},"pageContext":{"slug":"de/azure/sqldb","previousSlug":"de/azure/warehouse","nextSlug":"de/azure/datafactory","previousTitle":"Data Warehousing in Azure","nextTitle":"Azure Data Factory"}},"staticQueryHashes":[]}