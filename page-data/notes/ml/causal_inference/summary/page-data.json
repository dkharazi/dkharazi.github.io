{"componentChunkName":"component---src-templates-entry-js","path":"/notes/ml/causal_inference/summary","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Causality Cheat Sheet"},"html":"<h3>Describing Matching</h3>\n<ul>\n<li>\n<p>The goal of matching is reduce selection bias (due to confounding) before <em>estimating</em> causal effects</p>\n<ul>\n<li>Usually, for controlled experiments, but sometimes natural experiments</li>\n<li>As an example, we first could use matching to reduce selection bias, then afterwards use regression or synthetic control modeling to estimate causal effects</li>\n</ul>\n</li>\n<li>Matching is a form of stratification</li>\n<li>\n<p>Matching methods match treated units to similar control units</p>\n<ul>\n<li>This enables a more accurate comparison between treated units and non-treated units</li>\n<li>Specifically, matching involves sampling, so each treatment observation corresponds to a control observation with identical covariate values</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/14679611d1c234acaa6c4513fe683390/matchingsummary.svg\" alt=\"matchingsteps\"></p>\n<h3>Describing Regression Discontinuity Design</h3>\n<ul>\n<li>\n<p>The goal of RDD is to <em>identify</em> and <em>estimate</em> causal effects</p>\n<ul>\n<li>Usually, for natural experiments</li>\n</ul>\n</li>\n<li>\n<p>RDD stitches the potential outcomes <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>0</mn></msup></mrow><annotation encoding=\"application/x-tex\">Y^{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span></span></span></span> that are actually observed (i.e. when <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">D=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>) with the potential outcomes <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">Y^{1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> that are actually observed (i.e. when <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">D=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>)</p>\n<ul>\n<li>Essentially, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>0</mn></msup></mrow><annotation encoding=\"application/x-tex\">Y^{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span></span></span></span> is before the cutoff point <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">Y^{1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> is after the cutoff point</li>\n<li>As a result, we can identify causal effects if there is significant discontinuity at the cutoff point <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n<li>\n<p>Typically, RDD is used in <em>natural experiments</em></p>\n<ul>\n<li>A natural experiment refers to an experiment without a controlled treatment assignment <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> (not randomly assigned)</li>\n<li>Rather, treatment is assigned by some random, external factor (e.g. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>)</li>\n<li>Whereas, a controlled experiment refers to an experiment where all factors are held constant except for one</li>\n<li>As a result, RDD uses a <em>running variable</em> <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> (don't mistake this for an ordinary covariate)</li>\n<li>Thus, we usually use a continuous <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> instead of binary treatment variable DD in RDD, since RDDs are usually used in natural experiments</li>\n</ul>\n</li>\n<li>\n<p>The following assumptions are made about RDD:</p>\n<ul>\n<li>\n<p>RDD requires that every variable (excluding the treatment and outcome variables) is <em>continuous</em> at the cutoff point <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<ul>\n<li>This implies observed and unobserved predictors must be continuous at the cutoff point <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n<li>To be clear, the treatment and outcome variables can be discontinuous at the cutoff point <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n<li>RDD requires that all of the expected potential outcomes for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>0</mn></msup></mrow><annotation encoding=\"application/x-tex\">Y^{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span></span></span></span> are continuous at the cutoff point</li>\n<li>RDD requires that all of the expected potential outcomes for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">Y^{1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> are continuous at the cutoff point</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/c7fc1a8dacfbefd174fee32da7fd0ce1/rddsummary.svg\" alt=\"rddassumptions\"></p>\n<h3>Describing Difference-in-Difference</h3>\n<ul>\n<li>\n<p>The goal of a synthetic control is to <em>identify</em> and <em>estimate</em> causal effects</p>\n<ul>\n<li>Usually, for natural experiments</li>\n</ul>\n</li>\n<li>Diff-in-diff is a comparison between the differential effect of a treatment on a <em>treatment group</em> versus a <em>control group</em> in a natural experiment</li>\n<li>There are many of assumptions made about the diff-in-diff model</li>\n<li>\n<p>All the assumptions of the OLS model apply equally to diff-in-diff:</p>\n<ul>\n<li>No autocorrelation (e.g. a sine wave)</li>\n<li>No heterscedasticity (i.e. constant variance)</li>\n<li>No collinearity (i.e. this is rarely true)</li>\n<li>Data <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span> is linearly related (i.e. sometimes true)</li>\n<li>Conditional means of errors should be <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span> (i.e. rarely true)</li>\n<li>Conditional variance of errors should be constant</li>\n<li>Errors conditional on regressors should be normally distributed</li>\n<li>Observations should be iid</li>\n</ul>\n</li>\n<li>\n<p>Additionally, diff-in-diff requires a <em>parallel trends assumption</em></p>\n<ul>\n<li>\n<p>Essentially, it's saying there must be constant differences in outcomes between:</p>\n<ul>\n<li>The difference between the pre-intervention control and pre-intervention treatment groups</li>\n<li>The difference between the post-intervention control and post-intervention treatment groups</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Roughly, the diff-in-diff model is similar to a synthetic control model</p>\n<ul>\n<li>But, a diff-in-diff model treats the time points (pre-intervention and post-intervention) as predictors</li>\n<li>Whereas, a synthetic control model treats the time points as rows</li>\n</ul>\n</li>\n</ul>\n<h3>Describing Synthetic Control</h3>\n<ul>\n<li>\n<p>The goal of a synthetic control is to <em>identify</em> and <em>estimate</em> causal effects</p>\n<ul>\n<li>Usually, for natural experiments</li>\n</ul>\n</li>\n<li>\n<p>A synthetic control involves weighting multiple sets of control groups and comparing it with a single treatment group</p>\n<ul>\n<li>This comparison is used to estimate what would have happened to the treatment group if it had not received the treatment</li>\n</ul>\n</li>\n<li>\n<p>Unlike diff-in-diff, this method can account for the effects of confounders changing over time</p>\n<ul>\n<li>It does this by weighting the control group to better match the treatment group before the intervention</li>\n</ul>\n</li>\n<li>\n<p>The following assumptions are made about synthetic controls:</p>\n<ol>\n<li>\n<p>Existence of weights</p>\n<ul>\n<li>Implying, there must be enough similarities with the control units to create a synthetic control</li>\n</ul>\n</li>\n<li>\n<p>Weakly stationary process</p>\n<ul>\n<li>Implying, the mean and variance must be roughly fixed over time</li>\n</ul>\n</li>\n<li>\n<p>We must be aware beforehand that controls in synthetic control group don't receive treatment</p>\n<ul>\n<li>Otherwise, this could open up backdoor path</li>\n<li>Implying, we must have a good understanding of the natural experiment</li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>\n<h3>Refrences</h3>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Regression_discontinuity_design\" target=\"_blank\" rel=\"nofollow\">Wiki about Regression Discontinuity Design</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Difference_in_differences\" target=\"_blank\" rel=\"nofollow\">Wiki about Difference-in-Difference</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Synthetic_control_method\" target=\"_blank\" rel=\"nofollow\">Wiki about Synthetic Controls</a></li>\n</ul>"}},"pageContext":{"slug":"ml/causal_inference/summary","previousSlug":"ml/causal_inference/bsts","nextSlug":null,"previousTitle":"Bayesian Structural Time-Series","nextTitle":null}},"staticQueryHashes":[]}