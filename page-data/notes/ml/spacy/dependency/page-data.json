{"componentChunkName":"component---src-templates-entry-js","path":"/notes/ml/spacy/dependency","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Dependency Parsing"},"html":"<h3>Motivating Dependency Parsing</h3>\n<ul>\n<li>The <code class=\"language-text\">DependencyParser</code> assigns syntactic labels describing the relations between individual tokens</li>\n<li>The parser also supports sentence boundary detection</li>\n<li>This lets us iterate over base noun phrases (or <em>chunks</em>)</li>\n<li>Noun chunks refer to a noun plus the words describing the noun</li>\n<li>For example, <em>the lavish green grass</em> is a noun chunk</li>\n</ul>\n<h3>Sample Dependency Tree</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> doc <span class=\"token operator\">=</span> nlp<span class=\"token punctuation\">(</span><span class=\"token string\">\"Wow! Spacy is a great tool and I want to learn more.\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Plot dependency tree</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> displacy<span class=\"token punctuation\">.</span>serve<span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"dep\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/eab8b268e01271e086a0bbe20900f0e1/token.svg\" alt=\"DependencyTree\"></p>\n<h3>Relevant Functions and Attributes</h3>\n<ul>\n<li><code class=\"language-text\">Token.head:</code> The syntactic parent of <em>governor</em> of this token</li>\n<li><code class=\"language-text\">Token.children:</code> A sequence of this token's immediate syntactic children</li>\n<li><code class=\"language-text\">Token.ancestors:</code> The rightmost token of this token's syntactic descendants</li>\n<li><code class=\"language-text\">Token.lefts:</code> The leftward immediate children of this token in the syntacic dependency parse</li>\n<li><code class=\"language-text\">Token.rights:</code> The rightward immediate children of this token in the syntactic dependency parse</li>\n<li><code class=\"language-text\">Token.subtree:</code> A sequence containing this token and all of its syntactic descendants</li>\n</ul>\n<h3>Navigating the Parse Tree</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> doc <span class=\"token operator\">=</span> nlp<span class=\"token punctuation\">(</span><span class=\"token string\">\"Wow! Spacy is a great tool and I want to learn more.\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Find parent of token</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> spacy_token <span class=\"token operator\">=</span> doc<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> is_token <span class=\"token operator\">=</span> doc<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a_token <span class=\"token operator\">=</span> doc<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> spacy_token<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span>text\n<span class=\"token string\">'is'</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> is_token<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span>text\n<span class=\"token string\">'is'</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a_token<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span>text\n<span class=\"token string\">'tool'</span>\n\n<span class=\"token comment\"># Find all ancestors</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> spacy_token<span class=\"token punctuation\">.</span>ancestors<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'is'</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> is_token<span class=\"token punctuation\">.</span>ancestors<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> a_token<span class=\"token punctuation\">.</span>ancestors<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'tool'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'is'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Find immediate children</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> spacy_token<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> is_token<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'Spacy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tool'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'and'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'want'</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> a_token<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Find leftmost children</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> spacy_token<span class=\"token punctuation\">.</span>lefts<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> is_token<span class=\"token punctuation\">.</span>lefts<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'Spacy'</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> a_token<span class=\"token punctuation\">.</span>lefts<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Find rightmost children</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> spacy_token<span class=\"token punctuation\">.</span>rights<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> is_token<span class=\"token punctuation\">.</span>rights<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'tool'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'and'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'want'</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> a_token<span class=\"token punctuation\">.</span>rights<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Find all children</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> spacy_token<span class=\"token punctuation\">.</span>subtree<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'Spacy'</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> is_token<span class=\"token punctuation\">.</span>subtree<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'Spacy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'is'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'great'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tool'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'and'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'I'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'want'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'to'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'learn'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'more'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.'</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">.</span>text <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> a_token<span class=\"token punctuation\">.</span>subtree<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://spacy.io/api/dependencyparser\" target=\"_blank\" rel=\"nofollow\">DependencyParser Class</a></li>\n</ul>"}},"pageContext":{"slug":"ml/spacy/dependency","previousSlug":"ml/spacy/pos","nextSlug":"ml/spacy/ner","previousTitle":"Part-of-Speech Tagging","nextTitle":"Named Entity Recognition"}},"staticQueryHashes":[]}