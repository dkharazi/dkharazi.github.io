{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/asyncio/history","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Intro to Asyncio API"},"html":"<h3>Motivating the Use of Asyncio</h3>\n<ul>\n<li>\n<p>Asyncio is a library used for writing asynchronous code</p>\n<ul>\n<li>Asynchronous code is a form of concurrent code</li>\n</ul>\n</li>\n<li>Asyncio uses coroutines for asynchronous programming</li>\n<li>\n<p>Asynchronous programming has the following properties:</p>\n<ul>\n<li>Asynchronous routines can be paused</li>\n<li>Asynchronous routines can be resumed</li>\n</ul>\n</li>\n<li>Other routines can be run while routines are paused</li>\n<li>\n<p>In the following diagram:</p>\n<ul>\n<li>White terms represent concepts</li>\n<li>Green terms represent implementations of those concepts</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/88cc3f2f159f0e04b23a33a552e5d490/asyncio.png\" alt=\"asyncio\"></p>\n<h3>Illustrating Async Code with a Chess Analogy</h3>\n<ul>\n<li>Asyncio may seem counterintuitive</li>\n<li>\n<p>Specifically, how can asyncio</p>\n<ul>\n<li>Use a single thread</li>\n<li>And a single CPU core</li>\n<li>And be concurrent</li>\n</ul>\n</li>\n<li>Suppose we play in a chess exhibition</li>\n<li>Specifically, we play multiple amateur players</li>\n<li>\n<p>There are two ways of conducting the exhibition:</p>\n<ul>\n<li>Synchronously</li>\n<li>Asynchronously</li>\n</ul>\n</li>\n<li>\n<p>In the chess exhibition, let's assume the following:</p>\n<ul>\n<li>There are <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>24</mn></mrow><annotation encoding=\"application/x-tex\">24</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord\">4</span></span></span></span> opponents</li>\n<li>Each move only takes us <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span> seconds</li>\n<li>Each move takes <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>55</mn></mrow><annotation encoding=\"application/x-tex\">55</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span><span class=\"mord\">5</span></span></span></span> seconds for each of our opponents</li>\n<li>There are <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>30</mn></mrow><annotation encoding=\"application/x-tex\">30</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span></span></span></span> pair-moves on average (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>60</mn></mrow><annotation encoding=\"application/x-tex\">60</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span><span class=\"mord\">0</span></span></span></span> moves in total)</li>\n</ul>\n</li>\n</ul>\n<h3>Synchronously Playing Chess</h3>\n<ul>\n<li>We complete one game at a time</li>\n<li>We never play two games at the same time</li>\n<li>Each game takes <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>30</mn></mrow><annotation encoding=\"application/x-tex\">30</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span></span></span></span> minutes:</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>55</mn><mo>+</mo><mn>5</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mn>30</mn><mo>=</mo><mn>1800</mn><mtext> seconds</mtext><mo>=</mo><mn>30</mn><mtext> minutes</mtext></mrow><annotation encoding=\"application/x-tex\">(55+5) \\times 30 = 1800 \\text{ seconds} = 30 \\text{ minutes}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">5</span><span class=\"mord\">5</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">5</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">8</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> seconds</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66786em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> minutes</span></span></span></span></span></span>\n<ul>\n<li>The entire exhibition takes <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>12</mn></mrow><annotation encoding=\"application/x-tex\">12</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">2</span></span></span></span> hours:</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>24</mn><mo>×</mo><mn>30</mn><mo>=</mo><mn>720</mn><mtext> minutes</mtext><mo>=</mo><mn>12</mn><mtext> hours</mtext></mrow><annotation encoding=\"application/x-tex\">24 \\times 30 = 720 \\text{ minutes} = 12 \\text{ hours}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66786em;vertical-align:0em;\"></span><span class=\"mord\">7</span><span class=\"mord\">2</span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> minutes</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">2</span><span class=\"mord text\"><span class=\"mord\"> hours</span></span></span></span></span></span>\n<h3>Asynchronously Playing Chess</h3>\n<ul>\n<li>We move from table to table</li>\n<li>We make one move at each table</li>\n<li>Our oppenent needs time to respond to our move</li>\n<li>They need some time to think</li>\n<li>In the mean time, we move to another opponent and return when they've made their move</li>\n<li>One move across all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>24</mn></mrow><annotation encoding=\"application/x-tex\">24</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord\">4</span></span></span></span> games takes us <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span> minutes</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>24</mn><mo>×</mo><mn>5</mn><mo>=</mo><mn>120</mn><mtext> seconds</mtext><mo>=</mo><mn>2</mn><mtext> minutes</mtext></mrow><annotation encoding=\"application/x-tex\">24 \\times 5 = 120 \\text{ seconds} = 2 \\text{ minutes}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">2</span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> seconds</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66786em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord text\"><span class=\"mord\"> minutes</span></span></span></span></span></span>\n<ul>\n<li>The entire exhibition is now cut down to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span> hour</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>120</mn><mo>×</mo><mn>30</mn><mo>=</mo><mn>3600</mn><mtext> seconds</mtext><mo>=</mo><mn>1</mn><mtext> hour</mtext></mrow><annotation encoding=\"application/x-tex\">120 \\times 30 = 3600 \\text{ seconds} = 1 \\text{ hour}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">1</span><span class=\"mord\">2</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">6</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> seconds</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord text\"><span class=\"mord\"> hour</span></span></span></span></span></span>\n<h3>The History of <code class=\"language-text\">async</code> and <code class=\"language-text\">await</code></h3>\n<ul>\n<li><strong>3.3:</strong> The <code class=\"language-text\">yield from</code> allows for generator delegation</li>\n<li>\n<p><strong>3.4:</strong> asyncio was introduced</p>\n<ul>\n<li>It was added to the Python standard library</li>\n<li>It was considered very unstable at this time</li>\n</ul>\n</li>\n<li>\n<p><strong>3.5:</strong> <code class=\"language-text\">async</code> and <code class=\"language-text\">await</code> were included in the Python grammar</p>\n<ul>\n<li>They were used to signify and wait on coroutines</li>\n<li>They were not yet reserved keywords</li>\n<li>For example, custom functions and variables still could be named <code class=\"language-text\">async</code> and <code class=\"language-text\">await</code></li>\n</ul>\n</li>\n<li>\n<p><strong>3.6:</strong> Asynchronous generators were introduced</p>\n<ul>\n<li>Asyncio was considered stable</li>\n</ul>\n</li>\n<li>\n<p><strong>3.7:</strong> <code class=\"language-text\">async</code> and <code class=\"language-text\">await</code> became reserved keywords</p>\n<ul>\n<li>They could not be used as identifiers</li>\n<li>They replaced the <code class=\"language-text\">asyncio.coroutine()</code> decorator</li>\n<li><code class=\"language-text\">asyncio.run()</code> was introduced to the asyncio package</li>\n</ul>\n</li>\n</ul>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://realpython.com/python-concurrency/#asyncio-version\" target=\"_blank\" rel=\"nofollow\">Brief Description of Event Loops in Asyncio</a></li>\n<li><a href=\"https://www.integralist.co.uk/posts/python-asyncio/\" target=\"_blank\" rel=\"nofollow\">Walkthrough of Asyncio API</a></li>\n<li><a href=\"https://python.readthedocs.io/fr/latest/library/asyncio-task.html#example-chain-coroutines\" target=\"_blank\" rel=\"nofollow\">Details about Chaining Coroutines</a></li>\n<li><a href=\"https://docs.python.org/3/library/asyncio-task.html\" target=\"_blank\" rel=\"nofollow\">Asyncio Documentation about Coroutines and Tasks</a></li>\n</ul>"}},"pageContext":{"slug":"py/asyncio/history","previousSlug":null,"nextSlug":"py/asyncio/coroutine","previousTitle":null,"nextTitle":"Coroutines"}},"staticQueryHashes":[]}