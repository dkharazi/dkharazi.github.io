{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/data_structures/chainmap","result":{"data":{"markdownRemark":{"frontmatter":{"title":"ChainMap"},"html":"<h3>Defining a ChainMap</h3>\n<ul>\n<li>A ChainMap is a data structure that allows you to treat multiple dictionaries as one dictionary</li>\n<li>In other words, a ChainMap is an updatable view over many dicts</li>\n<li>However, it behaves just like a normal dict</li>\n<li>\n<p>The use cases include the following:</p>\n<ol>\n<li>Searching through multiple dictionaries quickly</li>\n<li>Making changes to multiple dictionaries quickly</li>\n<li>\n<p>Finding unique keys across multiple dictionaries quickly</p>\n<ul>\n<li>This also can refer to providing a chain of default values</li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>\n<h3>Example of Use-Case 1</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> toys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Blocks'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Monopoly'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> computers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'iMac'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iPad'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PC'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> clothing <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'T-Shirt'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> ChainMap\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> inventory <span class=\"token operator\">=</span> ChainMap<span class=\"token punctuation\">(</span>toys<span class=\"token punctuation\">,</span> computers<span class=\"token punctuation\">,</span> clothing<span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>inventory<span class=\"token punctuation\">[</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">40</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> inventory<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'Mario Bros.'</span><span class=\"token punctuation\">)</span>\n<span class=\"token boolean\">None</span></code></pre></div>\n<h3>Example of Use-Case 2</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> toys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Blocks'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Monopoly'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> computers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'iMac'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iPad'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PC'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> clothing <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'T-Shirt'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> ChainMap\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> inventory <span class=\"token operator\">=</span> ChainMap<span class=\"token punctuation\">(</span>toys<span class=\"token punctuation\">,</span> computers<span class=\"token punctuation\">,</span> clothing<span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> inventory<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token string\">'Blocks'</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">200</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>toys<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span><span class=\"token string\">'Monopoly'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> clothing<span class=\"token punctuation\">[</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>inventory<span class=\"token punctuation\">[</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">0</span></code></pre></div>\n<h3>Example of Use-Case 3</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> toys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Blocks'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Monopoly'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> computers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'iMac'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iPad'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PC'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> clothing <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'T-Shirt'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> ChainMap\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> inventory <span class=\"token operator\">=</span> ChainMap<span class=\"token punctuation\">(</span>toys<span class=\"token punctuation\">,</span> computers<span class=\"token punctuation\">,</span> clothing<span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> unique_items <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>inventory<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>unique_items<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'Jeans'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'T-Shirt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iMac'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iPad'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PC'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Blocks'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Monopoly'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://florimond.dev/blog/articles/2018/07/a-practical-usage-of-chainmap-in-python/\" target=\"_blank\" rel=\"nofollow\">Practical Usage of ChainMap</a></li>\n<li><a href=\"https://docs.python.org/3/library/collections.html#collections.ChainMap\" target=\"_blank\" rel=\"nofollow\">ChainMap Documentation from the Python Standard Library</a></li>\n<li><a href=\"https://pymotw.com/3/collections/chainmap.html\" target=\"_blank\" rel=\"nofollow\">Examples of ChainMap</a></li>\n<li><a href=\"https://stackoverflow.com/a/23441777/12777044\" target=\"_blank\" rel=\"nofollow\">Purpose of ChainMaps</a></li>\n</ul>"}},"pageContext":{"slug":"py/data_structures/chainmap","previousSlug":"py/data_structures/defaultdict","nextSlug":"py/data_structures/namedtuple","previousTitle":"Defaultdict","nextTitle":"Namedtuple"}},"staticQueryHashes":[]}