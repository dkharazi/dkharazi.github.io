{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/gunicorn/instrumentation","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Instrumentation"},"html":"<h3>Logging Metrics in Gunicorn</h3>\n<ul>\n<li>\n<p>Gunicorn provides an optional instrumentation of:</p>\n<ul>\n<li>The arbiter</li>\n<li>The workers</li>\n</ul>\n</li>\n<li>This is provided using the <code class=\"language-text\">statsD</code> protocol over UDP</li>\n<li>Specifically, Gunicorn uses the <code class=\"language-text\">gunicorn.instrument.statsd</code> module</li>\n<li>As a result, Gunicorn becomes a <code class=\"language-text\">statsD</code> client</li>\n<li>\n<p>Using UDP ensures the following:</p>\n<ul>\n<li>Gunicorn is isolated from the receiving end of <code class=\"language-text\">statsD</code></li>\n<li>Gunicorn is not held up by a slow <code class=\"language-text\">statsD</code> consumer</li>\n</ul>\n</li>\n</ul>\n<h3>Usage of <code class=\"language-text\">statsD</code> in Gunicorn</h3>\n<ul>\n<li>An example of the <code class=\"language-text\">statsD</code> server is the following:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn --statsd-host=localhost:8125 <span class=\"token punctuation\">..</span>.</code></pre></div>\n<h3>Details about the <code class=\"language-text\">statsD</code> Logger</h3>\n<ul>\n<li>The <code class=\"language-text\">statsD</code> logger overrides <code class=\"language-text\">gunicorn.glogging.Logger</code></li>\n<li>This tracks all of the requests</li>\n<li>\n<p>The following metrics are generated:</p>\n<ul>\n<li><code class=\"language-text\">gunicorn.requests</code>: Request rate per seconds</li>\n<li><code class=\"language-text\">gunicorn.request.duration</code>: Histogram of request duration (in milliseconds)</li>\n<li><code class=\"language-text\">gunicorn.workers</code>: Number of workers managed by the arbiter (gauge)</li>\n<li><code class=\"language-text\">gunicorn.log.critical</code>: Rate of critical log messages</li>\n<li><code class=\"language-text\">gunicorn.log.error</code>: Rate of error log messages</li>\n<li><code class=\"language-text\">gunicorn.log.warning</code>: Rate of warning log messages</li>\n<li><code class=\"language-text\">gunicorn.log.exception</code>: Rate of exceptional log messages</li>\n</ul>\n</li>\n</ul>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.gunicorn.org/en/stable/instrumentation.html\" target=\"_blank\" rel=\"nofollow\">Gunicorn Documentation</a></li>\n</ul>"}},"pageContext":{"slug":"py/gunicorn/instrumentation","previousSlug":"py/gunicorn/worker","nextSlug":"py/gunicorn/deploy","previousTitle":"Worker Processes","nextTitle":"Deployment"}},"staticQueryHashes":[]}