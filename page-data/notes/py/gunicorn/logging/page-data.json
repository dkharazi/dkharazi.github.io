{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/gunicorn/logging","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Logging"},"html":"<h3>Describing the <code class=\"language-text\">accesslog</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">accesslog</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--access-logfile FILE</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">None</code></li>\n<li>This setting specifies the file used for logging access</li>\n<li>If <code class=\"language-text\">-</code> is specified, then access logging is written to stdout</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">disable_redirect_access_to_syslog</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">disable_redirect_access_to_syslog</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--disable-redirect-access-to-syslog</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">False</code></li>\n<li>This setting specifies whether to redirect access logs to syslog</li>\n<li>The syslog protocol transports messages to a logging server</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">access_log_format</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">access_log_format</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--access-logformat STRING</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">%(h)s %(l)s %(u)s %(t)s &#39;%(r)s&#39; %(s)s %(b)s &#39;%(f)s&#39; &#39;%(a)s&#39;</code></li>\n<li>This setting specifies the access log format</li>\n<li>Refer to this <a href=\"https://docs.gunicorn.org/en/stable/settings.html#access-log-format\" target=\"_blank\" rel=\"nofollow\">list of identifiers</a> for more information</li>\n<li>The following identifers are a few popular ones:</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th><strong>identifier</strong></th>\n<th><strong>description</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>h</td>\n<td>remote address</td>\n</tr>\n<tr>\n<td>l</td>\n<td><code class=\"language-text\">-</code></td>\n</tr>\n<tr>\n<td>u</td>\n<td>user name</td>\n</tr>\n<tr>\n<td>t</td>\n<td>date of the request</td>\n</tr>\n<tr>\n<td>r</td>\n<td>status line (e.g. <code class=\"language-text\">GET / HTTP/1.1</code> )</td>\n</tr>\n<tr>\n<td>s</td>\n<td>status</td>\n</tr>\n<tr>\n<td>b</td>\n<td>response length</td>\n</tr>\n<tr>\n<td>f</td>\n<td>referer</td>\n</tr>\n<tr>\n<td>a</td>\n<td>user agent</td>\n</tr>\n</tbody>\n</table>\n<h3>Describing the <code class=\"language-text\">errorlog</code> Setting</h3>\n<ul>\n<li>The setting in the configuration file is:\n- <code class=\"language-text\">loglevel</code></li>\n<li>The setting in the CLI is:\n- <code class=\"language-text\">--error-logfile FILE</code></li>\n<li>It defaults to <code class=\"language-text\">-</code></li>\n<li>This setting specifies the file used for writing errors</li>\n<li>If <code class=\"language-text\">-</code> is specified, then error logging is written to stdout</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">loglevel</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">loglevel</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-level LEVEL</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">info</code></li>\n<li>This setting specifies the granularity of the error in the error log</li>\n<li>\n<p>Valid level names are the following:</p>\n<ul>\n<li><code class=\"language-text\">debug</code></li>\n<li><code class=\"language-text\">info</code></li>\n<li><code class=\"language-text\">warning</code></li>\n<li><code class=\"language-text\">error</code></li>\n<li><code class=\"language-text\">critical</code></li>\n</ul>\n</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">capture_output</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">capture_output</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--capture-output</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">False</code></li>\n<li>This setting specifies whether to redirect error logs to stderr</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">logger_class</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">logger_class</code></li>\n</ul>\n</li>\n<li>The setting in the CLI is:\n- <code class=\"language-text\">--logger-class STRING</code></li>\n<li>It defaults to <code class=\"language-text\">gunicorn.glogging.Logger</code></li>\n<li>This setting specifies the logger used to log events in Gunicorn</li>\n<li>The default <code class=\"language-text\">gunicorn.glogging.Logger</code> handles most normal functionalities for logging</li>\n<li>Specifically, it provides error and access logging</li>\n<li>We can customize our own logger and provide it using this setting</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">logconfig</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">logconfig</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-config FILE</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">None</code></li>\n<li>This setting specifies the configuration file used for logging</li>\n<li>Gunicorn uses the configuration file format in the standard Python logging module</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">logconfig_dict</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">logconfig_dict</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-config-dict DICT</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">{}</code></li>\n<li>This setting specifies a configuration file as a dictionary</li>\n<li>This configuration file is used for logging</li>\n<li>For more information about the format, refer to the <a href=\"https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig\" target=\"_blank\" rel=\"nofollow\">docs</a></li>\n<li>This option takes precedence over the <code class=\"language-text\">logconfig</code> option</li>\n<li>This is because the <code class=\"language-text\">logconfig</code> setting uses the older file configuration format</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">syslog_addr</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">syslog_addr</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-syslog-to SYSLOG_ADDR</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">udp://localhost:514</code></li>\n<li>This setting specifies an address to send syslog messages</li>\n<li>\n<p>The address is a string of the following format:</p>\n<ul>\n<li><code class=\"language-text\">tcp://HOST:PORT</code></li>\n<li>Or <code class=\"language-text\">udp://HOST:PORT</code></li>\n</ul>\n</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">syslog</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">syslog</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-syslog</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">False</code></li>\n<li>This setting specifies whether to send Gunicorn logs to syslog</li>\n<li>Sending access logs can be disabled using the <code class=\"language-text\">disable_redirect_access_to_syslog</code> setting</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">syslog_prefix</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">syslog_prefix</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-syslog-prefix SYSLOG_PREFIX</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">None</code></li>\n<li>This setting specifies a <code class=\"language-text\">SYSLOG_PREFIX</code> parameter used in the syslog entries as the program name</li>\n</ul>\n<h3>Describing the <code class=\"language-text\">syslog_facility</code> Setting</h3>\n<ul>\n<li>\n<p>The setting in the configuration file is:</p>\n<ul>\n<li><code class=\"language-text\">syslog_facility</code></li>\n</ul>\n</li>\n<li>\n<p>The setting in the CLI is:</p>\n<ul>\n<li><code class=\"language-text\">--log-syslog-facility SYSLOG_FACILITY</code></li>\n</ul>\n</li>\n<li>It defaults to <code class=\"language-text\">user</code></li>\n<li>This setting specifies a <code class=\"language-text\">SYSLOG_FACILITY</code> name</li>\n</ul>\n<h3>Example of the <code class=\"language-text\">accesslog</code> Setting</h3>\n<ul>\n<li>A <code class=\"language-text\">.py</code> configuration file can be defined as:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># config.py</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> accesslog <span class=\"token operator\">=</span> <span class=\"token string\">'myfile.log'</span></code></pre></div>\n<ul>\n<li>We can specify it using the <code class=\"language-text\">-c</code> flag:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn -c config.py <span class=\"token punctuation\">..</span>.</code></pre></div>\n<ul>\n<li>Or we can specify the <code class=\"language-text\">accesslog</code> setting using the CLI:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn --access-logfile myfile.log  <span class=\"token punctuation\">..</span>.</code></pre></div>\n<h3>Example of <code class=\"language-text\">access_log_format</code> Setting</h3>\n<ul>\n<li>A <code class=\"language-text\">.py</code> configuration file can be defined as:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># config.py</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> access_log_format <span class=\"token operator\">=</span> <span class=\"token string\">'remote_ip: %(h)s'</span></code></pre></div>\n<ul>\n<li>We can specify it using the <code class=\"language-text\">-c</code> flag:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn -c config.py <span class=\"token punctuation\">..</span>.</code></pre></div>\n<ul>\n<li>Or we can specify the <code class=\"language-text\">access_log_format</code> setting using the CLI:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn --access_log_format %<span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span>s  <span class=\"token punctuation\">..</span>.</code></pre></div>\n<h3>Example of <code class=\"language-text\">errorlog</code> Setting</h3>\n<ul>\n<li>A <code class=\"language-text\">.py</code> configuration file can be defined as:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># config.py</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> errorlog <span class=\"token operator\">=</span> <span class=\"token string\">'myerrors.log'</span></code></pre></div>\n<ul>\n<li>We can specify it using the <code class=\"language-text\">-c</code> flag:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn -c config.py <span class=\"token punctuation\">..</span>.</code></pre></div>\n<ul>\n<li>Or we can specify the <code class=\"language-text\">loglevel</code> setting using the CLI:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn --error-logfile myerrors.log  <span class=\"token punctuation\">..</span>.</code></pre></div>\n<h3>Example of <code class=\"language-text\">loglevel</code> Setting</h3>\n<ul>\n<li>A <code class=\"language-text\">.py</code> configuration file can be defined as:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># config.py</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> errorfile <span class=\"token operator\">=</span> <span class=\"token string\">'myerrors.log'</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> loglevel <span class=\"token operator\">=</span> <span class=\"token string\">'warning'</span></code></pre></div>\n<ul>\n<li>We can specify it using the <code class=\"language-text\">-c</code> flag:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn -c config.py <span class=\"token punctuation\">..</span>.</code></pre></div>\n<ul>\n<li>Or we can specify the <code class=\"language-text\">loglevel</code> setting using the CLI:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">$ </span>gunicorn --log-level warning  <span class=\"token punctuation\">..</span>.</code></pre></div>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.gunicorn.org/en/stable/settings.html#logging\" target=\"_blank\" rel=\"nofollow\">Gunicorn Documentation</a></li>\n</ul>"}},"pageContext":{"slug":"py/gunicorn/logging","previousSlug":"py/gunicorn/debug","nextSlug":"py/gunicorn/process","previousTitle":"Debugging","nextTitle":"Process Naming"}},"staticQueryHashes":[]}