{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/modules/package","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Packages"},"html":"<h3>Describing Packages</h3>\n<ul>\n<li>Packages allow a collection of modules to be grouped under a common package name</li>\n<li>This technique helps resolve namespace conflicts between module names used in different applications</li>\n<li>\n<p>A package is defined by doing the following:</p>\n<ul>\n<li>Creating a directory of the same name as the package</li>\n<li>Creating the file <code class=\"language-text\">__init__.py</code> in that directory</li>\n</ul>\n</li>\n<li>For example, a package might be organized as follows:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Graphics/\n├── __init__.py\n├── Primitive/\n│   ├── lines.py\n│   ├── fill.py\n│   └── text.py\n│       ...\n├── Graph2d/\n│   ├── __init__.py\n│   └── plot2d.py\n│       ...\n├── Graph3d/\n│   ├── __init__.py\n│   └── plot3d.py\n│       ...\n└── Formats/\n    ├── __init__.py\n    └── gif.py</code></pre></div>\n<h3>Relative Imports</h3>\n<ul>\n<li>In Python 3, <code class=\"language-text\">import</code> assumes an absolute path</li>\n<li>Relative imports can be used to load submodules contained in different directories of the same package</li>\n<li>A relative import more clearly states your intentions</li>\n<li>A <code class=\"language-text\">..</code> moves out one directory level and drops down into a different package directory</li>\n<li>The following is an example:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># plot2d.py</span>\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>Primitives <span class=\"token keyword\">import</span> lines</code></pre></div>\n<ul>\n<li>Relative imports can be used to load all the submodules automatically:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Graphics/__init__.py</span>\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> Primitive<span class=\"token punctuation\">,</span> Graph2d<span class=\"token punctuation\">,</span> Graph3d</code></pre></div>\n<h3>Reasons for using <code class=\"language-text\">__init__.py</code></h3>\n<ol>\n<li>\n<p>Used so modules outside of the package can import modules within the package</p>\n<ul>\n<li>This is only true for Python 3.2 and older versions</li>\n<li>This is not necessary for Python 3.3 and newer versions</li>\n</ul>\n</li>\n<li>\n<p>Used for initialization</p>\n<ul>\n<li>Specifically, it is used for initializing and code that needs to be run beforehand</li>\n<li>In other words, any module importing the package will always run anything in <code class=\"language-text\">__init__.py</code> first</li>\n<li>This is true even for modules outside of the package</li>\n</ul>\n</li>\n<li>\n<p>Used for convenience</p>\n<ul>\n<li>Modules outside of the package can call any function within the package</li>\n<li>For example, we can do <code class=\"language-text\">from package import inner_function</code></li>\n<li>Meaning, we don't need to do <code class=\"language-text\">from package.inner_script import inner_function</code></li>\n</ul>\n</li>\n</ol>\n<h3>Setting up Packages</h3>\n<ul>\n<li>A <code class=\"language-text\">setup.py</code> file makes it easier to install your package on some machine</li>\n<li>The following is an example <code class=\"language-text\">setup.py</code> file:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">from</span> setuptools <span class=\"token keyword\">import</span> setup\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> setup<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     name<span class=\"token operator\">=</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     version<span class=\"token operator\">=</span><span class=\"token string\">'1.0'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     description<span class=\"token operator\">=</span><span class=\"token string\">'A useful module'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     author<span class=\"token operator\">=</span><span class=\"token string\">'Man Foo'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     author_email<span class=\"token operator\">=</span><span class=\"token string\">'foomail@foo.com'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     packages<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># same as name</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     install_requires<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'greek'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># external </span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>                                        <span class=\"token comment\"># packages as </span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>                                        <span class=\"token comment\"># dependencies</span></code></pre></div>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://index-of.co.uk/Python/Python%20Essential%20Reference,%20Fourth%20Edition.pdf\" target=\"_blank\" rel=\"nofollow\">Python Essential Reference</a></li>\n<li><a href=\"https://stackoverflow.com/a/48804718/12777044\" target=\"_blank\" rel=\"nofollow\">Is <strong>init</strong>.py still Required?</a></li>\n<li><a href=\"https://stackoverflow.com/a/29509611/12777044\" target=\"_blank\" rel=\"nofollow\">Reasons for <strong>init</strong>.py</a></li>\n<li><a href=\"https://stackoverflow.com/a/39811884/12777044\" target=\"_blank\" rel=\"nofollow\">Purpose of setup.py</a></li>\n</ul>"}},"pageContext":{"slug":"py/modules/package","previousSlug":"py/modules/load","nextSlug":null,"previousTitle":"Module Loading","nextTitle":null}},"staticQueryHashes":[]}