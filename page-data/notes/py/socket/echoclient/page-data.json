{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/socket/echoclient","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Echo Client"},"html":"<h3>Sample TCP Client</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> socket\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sock <span class=\"token operator\">=</span> socket<span class=\"token punctuation\">(</span>socket<span class=\"token punctuation\">.</span>AF_INET<span class=\"token punctuation\">,</span> socket<span class=\"token punctuation\">.</span>SOCK_STREAM<span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token comment\"># connect to server on localhost</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token comment\"># listening on port 8881</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sv_addr <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8881</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sock<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>sv_addr<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'connected to server'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> data <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">\"\"\"\n... A few lines of data\n... to test the operation\n... of both server and client.\n... \"\"\"</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">.</span>splitlines<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     sock<span class=\"token punctuation\">.</span>sendall<span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># send data to server</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sent: '</span><span class=\"token punctuation\">,</span> line<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     response <span class=\"token operator\">=</span> sock<span class=\"token punctuation\">.</span>recv<span class=\"token punctuation\">(</span><span class=\"token number\">8192</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\"># receive data...</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'received: '</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ...returned...</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> sock<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                       <span class=\"token comment\"># ...from server</span></code></pre></div>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://index-of.co.uk/Python/Python%20Essential%20Reference,%20Fourth%20Edition.pdf\" target=\"_blank\" rel=\"nofollow\">Python Essential Reference</a></li>\n<li><a href=\"https://docs.python.org/3/library/socket.html\" target=\"_blank\" rel=\"nofollow\">Documentation for socket API</a></li>\n<li><a href=\"https://www.arp.com/medias/13916546.pdf\" target=\"_blank\" rel=\"nofollow\">Python in a Nutshell</a></li>\n<li><a href=\"https://realpython.com/python-sockets/\" target=\"_blank\" rel=\"nofollow\">Walkthrough of Python Sockets</a></li>\n</ul>"}},"pageContext":{"slug":"py/socket/echoclient","previousSlug":"py/socket/echoserver","nextSlug":null,"previousTitle":"Echo Server","nextTitle":null}},"staticQueryHashes":[]}