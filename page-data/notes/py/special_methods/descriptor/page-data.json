{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/special_methods/descriptor","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Attribute Descriptors"},"html":"<h3>Describing Attribute Descriptors</h3>\n<ul>\n<li>\n<p>Sometimes, attributes are wrapped with an extra layer of logic that interact with:</p>\n<ul>\n<li>Get operations</li>\n<li>Set operations</li>\n<li>Delete operations</li>\n</ul>\n</li>\n<li>This kind of wrapping is accomplished by creating a descriptor object</li>\n<li>\n<p>An object is considered a descriptor if any of the following are defined:</p>\n<ul>\n<li><code class=\"language-text\">__get__()</code></li>\n<li><code class=\"language-text\">__set__()</code></li>\n<li><code class=\"language-text\">__delete__()</code></li>\n</ul>\n</li>\n<li>For example, properties implement the descriptor protocol</li>\n</ul>\n<h3>Describing Special Methods of a Descriptor</h3>\n<ul>\n<li>\n<p>Our three special methods of a descriptor are meant to interact with the default implementation of the following:</p>\n<ul>\n<li><code class=\"language-text\">__getattribute__()</code></li>\n<li><code class=\"language-text\">__setattr__()</code></li>\n<li><code class=\"language-text\">__delattr__()</code></li>\n</ul>\n</li>\n<li>\n<p>Specifically, there are two types of descriptors:</p>\n<ul>\n<li><strong>Data Descriptor:</strong> Has a <code class=\"language-text\">__set__</code> and/or <code class=\"language-text\">__delete__</code></li>\n<li><strong>Non-Data Descriptor:</strong> Neither <code class=\"language-text\">__set__</code> nor <code class=\"language-text\">__delete__</code></li>\n</ul>\n</li>\n<li>Classmethods, staticmethods, and functions are examples of non-data descriptors</li>\n<li>Properties are an example of a data descriptor</li>\n<li>In general, we should try to use a simple class attribute</li>\n<li>If necessary, then we could use the property decorator</li>\n<li>The following is an example of a descriptor:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Descriptor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__get__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> obj<span class=\"token punctuation\">,</span> objtype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">return</span> <span class=\"token string\">'{}for{}'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__set__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> obj<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">if</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             <span class=\"token keyword\">raise</span> TypeError<span class=\"token punctuation\">(</span><span class=\"token string\">'Name should be string'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GFG</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     name <span class=\"token operator\">=</span> Descriptor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n    \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> g <span class=\"token operator\">=</span> GFG<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> g<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Todd'</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>g<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token string\">'ToddforTodd'</span></code></pre></div>\n<h3>Creating a Descriptor using Properties</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Alphabet</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span>_value <span class=\"token operator\">=</span> value\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token comment\"># getting the values</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> @<span class=\"token builtin\">property</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">def</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Getting value'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>_value\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token comment\"># setting the values</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> @value<span class=\"token punctuation\">.</span>setter\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">def</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Setting value to '</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     self<span class=\"token punctuation\">.</span>_value <span class=\"token operator\">=</span> value\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token comment\"># deleting the values</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> @value<span class=\"token punctuation\">.</span>deleter\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">def</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Deleting value'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">del</span> self<span class=\"token punctuation\">.</span>_value\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> x <span class=\"token operator\">=</span> Alphabet<span class=\"token punctuation\">(</span><span class=\"token string\">'Peter'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> x<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">'Diesel'</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">del</span> x<span class=\"token punctuation\">.</span>value</code></pre></div>\n<h3>Summarizing Special Methods</h3>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">__get__(self, instance, cls)</code></td>\n<td>Returns an attribute value or raises <code class=\"language-text\">AttributeError</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">__set__(self, instance, value)</code></td>\n<td>Sets the attribute to <code class=\"language-text\">value</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">__delete__(self, instance)</code></td>\n<td>Deletes the attribute</td>\n</tr>\n</tbody>\n</table>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://realpython.com/python-descriptors/\" target=\"_blank\" rel=\"nofollow\">Python Descriptors</a></li>\n<li><a href=\"http://index-of.co.uk/Python/Python%20Essential%20Reference,%20Fourth%20Edition.pdf\" target=\"_blank\" rel=\"nofollow\">Python Essential Reference</a></li>\n<li><a href=\"https://stackoverflow.com/a/34554353/12777044\" target=\"_blank\" rel=\"nofollow\">Understanding <strong>get</strong> and <strong>set</strong> Special Methods</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/descriptor-in-python/\" target=\"_blank\" rel=\"nofollow\">Details about Descriptors in Python</a></li>\n</ul>"}},"pageContext":{"slug":"py/special_methods/descriptor","previousSlug":"py/special_methods/attribute","nextSlug":"py/special_methods/mapping","previousTitle":"Attribute Access","nextTitle":"Sequence and Mapping Methods"}},"staticQueryHashes":[]}