{"componentChunkName":"component---src-templates-entry-js","path":"/notes/py/special_methods/iteration","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Iteration"},"html":"<h3>Describing Iterators and Iterables</h3>\n<ul>\n<li>An iterable is an object with a <code class=\"language-text\">__iter__</code> method</li>\n<li>An iterator is an object with a <code class=\"language-text\">__next__</code> method</li>\n<li>An iterator is created by calling the <code class=\"language-text\">iter()</code> on an iterable:</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>iter(some iterable)</mtext><mo>→</mo><mtext>iterator</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{iter(some iterable)} \\to \\text{iterator}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">iter(some iterable)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66786em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">iterator</span></span></span></span></span></span>\n<ul>\n<li>\n<p>The following are examples of iterables:</p>\n<ul>\n<li>String</li>\n<li>List</li>\n<li>Set</li>\n</ul>\n</li>\n<li>\n<p>The following is an example of iterating through a string:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> s <span class=\"token operator\">=</span> <span class=\"token string\">'foo'</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># iterable</span>\n<span class=\"token operator\">&lt;</span><span class=\"token keyword\">class</span> <span class=\"token string\">'str'</span><span class=\"token operator\">></span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># cant call next()</span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'str'</span> <span class=\"token builtin\">object</span> <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> an iterator</code></pre></div>\n</li>\n</ul>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>s<em>iter = iter(s)  # can call iter()\ntype(s</em>iter)  # new iterator object\n&#x3C;class 'str_iterator'>\nnext(s)\nf</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">### Why Iterators are Relevant to For Loops\n\n- Let&#39;s say we have an iterable called **mylist**\n- This iterable is a list\n- Suppose we want to loop over our list like:\n\n```python\nfor x in mylist:\n    ...loop body...</code></pre></div>\n<ul>\n<li>\n<p>Then, Python performs the following steps during for loops:</p>\n<ol>\n<li>Gets an iterable <code class=\"language-text\">mylist</code></li>\n<li>\n<p>Call <code class=\"language-text\">iter(mylist)</code></p>\n<ul>\n<li>This returns an iterator object</li>\n<li>An iterator object should have the <code class=\"language-text\">__next__()</code> method</li>\n</ul>\n</li>\n<li>\n<p>Use the iterator to loop over items</p>\n<ul>\n<li>This involves calling the <code class=\"language-text\">__next__()</code> method</li>\n<li>This output is assigned to <code class=\"language-text\">x</code></li>\n<li>Then, the loop body is executed</li>\n<li>The loop is exited for any <code class=\"language-text\">StopIteration</code></li>\n</ul>\n</li>\n</ol>\n</li>\n<li>Python always performs the above steps for any looping</li>\n<li>Meaning, Python performs thse steps for while and for loops</li>\n</ul>\n<h3>Example of Iterables and Iterators</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PowTwo</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__iter__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">return</span> PowIter<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PowIter</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__next__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>n <span class=\"token operator\">&lt;=</span> self<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             result <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">**</span> self<span class=\"token punctuation\">.</span>n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             self<span class=\"token punctuation\">.</span>n <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             <span class=\"token keyword\">raise</span> StopIteration\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a <span class=\"token operator\">=</span> PowTwo<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> i <span class=\"token operator\">=</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n__main__<span class=\"token punctuation\">.</span>PowTwo\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n__main__<span class=\"token punctuation\">.</span>PowIter\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n<span class=\"token number\">1</span></code></pre></div>\n<h3>Example of an Object that is an Iterable and Iterator</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PowTwo</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token builtin\">max</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__iter__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         self<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">return</span> self\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__next__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>n <span class=\"token operator\">&lt;=</span> self<span class=\"token punctuation\">.</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             result <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">**</span> self<span class=\"token punctuation\">.</span>n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             self<span class=\"token punctuation\">.</span>n <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             <span class=\"token keyword\">raise</span> StopIteration\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a <span class=\"token operator\">=</span> PowTwo<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> i <span class=\"token operator\">=</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n__main__<span class=\"token punctuation\">.</span>PowTwo\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n__main__<span class=\"token punctuation\">.</span>PowTwo\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n<span class=\"token number\">1</span></code></pre></div>\n<h3>Summarizing Special Methods</h3>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">__iter__(self)</code></td>\n<td>Returns an iterator</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">__next__(self)</code></td>\n<td>Returns the next element of the iteration</td>\n</tr>\n</tbody>\n</table>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://index-of.co.uk/Python/Python%20Essential%20Reference,%20Fourth%20Edition.pdf\" target=\"_blank\" rel=\"nofollow\">Python Essential Reference</a></li>\n<li><a href=\"https://stackoverflow.com/a/4019987/12777044\" target=\"_blank\" rel=\"nofollow\">Implementing <strong>iter</strong> for a Container</a></li>\n<li><a href=\"https://stackoverflow.com/a/237028/12777044\" target=\"_blank\" rel=\"nofollow\">Why Iterators are Important to For Loops</a></li>\n</ul>"}},"pageContext":{"slug":"py/special_methods/iteration","previousSlug":"py/special_methods/mapping","nextSlug":"py/special_methods/math","previousTitle":"Sequence and Mapping Methods","nextTitle":"Mathematical Operations"}},"staticQueryHashes":[]}